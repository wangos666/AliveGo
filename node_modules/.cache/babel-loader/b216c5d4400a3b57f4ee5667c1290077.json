{"ast":null,"code":"import { createElementVNode as _createElementVNode, unref as _unref, isRef as _isRef, vModelText as _vModelText, withDirectives as _withDirectives, createTextVNode as _createTextVNode, withModifiers as _withModifiers, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createStaticVNode as _createStaticVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nimport _imports_0 from './images/qq.png';\nimport _imports_1 from './images/sina.png';\nimport _imports_2 from './images/ali.png';\nimport _imports_3 from './images/weixin.png';\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-2b18e75c\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"login-container\"\n};\nconst _hoisted_2 = {\n  class: \"login-wrap\"\n};\nconst _hoisted_3 = {\n  class: \"login\"\n};\nconst _hoisted_4 = {\n  class: \"loginform\"\n};\n\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"ul\", {\n  class: \"tab clearFix\"\n}, [/*#__PURE__*/_createElementVNode(\"li\", null, [/*#__PURE__*/_createElementVNode(\"a\", {\n  href: \"##\",\n  style: {\n    \"border-right\": \"0\"\n  }\n}, \"扫描登录\")]), /*#__PURE__*/_createElementVNode(\"li\", null, [/*#__PURE__*/_createElementVNode(\"a\", {\n  href: \"##\",\n  class: \"current\"\n}, \"账户登录\")])], -1));\n\nconst _hoisted_6 = {\n  class: \"content\"\n};\nconst _hoisted_7 = {\n  class: \"input-text clearFix\"\n};\n\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, null, -1));\n\nconst _hoisted_9 = {\n  class: \"input-text clearFix\"\n};\n\nconst _hoisted_10 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"pwd\"\n}, null, -1));\n\nconst _hoisted_11 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"setting clearFix\"\n}, [/*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"checkbox inline\"\n}, [/*#__PURE__*/_createElementVNode(\"input\", {\n  name: \"m1\",\n  type: \"checkbox\",\n  value: \"2\",\n  checked: \"\"\n}), /*#__PURE__*/_createTextVNode(\" 自动登录 \")]), /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"forget\"\n}, \"忘记密码？\")], -1));\n\nconst _hoisted_12 = {\n  class: \"call clearFix\"\n};\n\nconst _hoisted_13 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"ul\", null, [/*#__PURE__*/_createElementVNode(\"li\", null, [/*#__PURE__*/_createElementVNode(\"img\", {\n  src: _imports_0,\n  alt: \"\"\n})]), /*#__PURE__*/_createElementVNode(\"li\", null, [/*#__PURE__*/_createElementVNode(\"img\", {\n  src: _imports_1,\n  alt: \"\"\n})]), /*#__PURE__*/_createElementVNode(\"li\", null, [/*#__PURE__*/_createElementVNode(\"img\", {\n  src: _imports_2,\n  alt: \"\"\n})]), /*#__PURE__*/_createElementVNode(\"li\", null, [/*#__PURE__*/_createElementVNode(\"img\", {\n  src: _imports_3,\n  alt: \"\"\n})])], -1));\n\nconst _hoisted_14 = /*#__PURE__*/_createTextVNode(\"立即注册\");\n\nconst _hoisted_15 = /*#__PURE__*/_createStaticVNode(\"<div class=\\\"copyright\\\" data-v-2b18e75c><ul data-v-2b18e75c><li data-v-2b18e75c>关于我们</li><li data-v-2b18e75c>联系我们</li><li data-v-2b18e75c>联系客服</li><li data-v-2b18e75c>商家入驻</li><li data-v-2b18e75c>营销中心</li><li data-v-2b18e75c>手机APP</li><li data-v-2b18e75c>销售联盟</li><li data-v-2b18e75c>活力购社区</li></ul><div class=\\\"address\\\" data-v-2b18e75c>地址：浙江省宁波市鄞州区南部商务区</div><div class=\\\"beian\\\" data-v-2b18e75c>浙ICP备1089375474号 </div></div>\", 1);\n\nconst __default__ = {\n  name: 'Login'\n};\nimport { ref } from 'vue';\nimport useUserStore from '@/store/User';\nimport { useRoute, useRouter } from 'vue-router';\nexport default /*#__PURE__*/Object.assign(__default__, {\n  setup(__props) {\n    let userName = ref('');\n    let password = ref('');\n    const store = useUserStore();\n    const router = useRouter();\n    const route = useRoute();\n\n    async function login() {\n      let userInfo = {\n        phone: userName.value,\n        password: password.value\n      };\n\n      if (userName.value && password.value) {\n        try {\n          await store.login(userInfo);\n\n          if (route.query.redirect) {\n            router.push(route.query.redirect);\n          } else {\n            router.push('/');\n          }\n        } catch (error) {\n          alert(error.message);\n        }\n      }\n    }\n\n    return (_ctx, _cache) => {\n      const _component_router_link = _resolveComponent(\"router-link\");\n\n      return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_hoisted_5, _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"form\", {\n        onSubmit: _cache[2] || (_cache[2] = _withModifiers(() => {}, [\"prevent\"]))\n      }, [_createElementVNode(\"div\", _hoisted_7, [_hoisted_8, _withDirectives(_createElementVNode(\"input\", {\n        type: \"text\",\n        placeholder: \"邮箱/用户名/手机号\",\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => _isRef(userName) ? userName.value = $event : userName = $event)\n      }, null, 512), [[_vModelText, _unref(userName)]])]), _createElementVNode(\"div\", _hoisted_9, [_hoisted_10, _withDirectives(_createElementVNode(\"input\", {\n        type: \"password\",\n        placeholder: \"请输入密码\",\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => _isRef(password) ? password.value = $event : password = $event)\n      }, null, 512), [[_vModelText, _unref(password)]])]), _hoisted_11, _createElementVNode(\"button\", {\n        class: \"btn\",\n        onClick: login\n      }, \"登  录\")], 32), _createElementVNode(\"div\", _hoisted_12, [_hoisted_13, _createVNode(_component_router_link, {\n        class: \"register\",\n        to: \"/register\"\n      }, {\n        default: _withCtx(() => [_hoisted_14]),\n        _: 1\n      })])])])])]), _hoisted_15]);\n    };\n  }\n\n});","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiGA,oBAAe;EACbA,IAAI,EAAE;AADO,CAAf;AA9BA,SAASC,GAAT,QAAoB,KAApB;AACA,OAAOC,YAAP,MAAyB,cAAzB;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,YAApC;;;IACA,IAAIC,QAAQ,GAAGJ,GAAG,CAAC,EAAD,CAAlB;IACA,IAAIK,QAAQ,GAAGL,GAAG,CAAC,EAAD,CAAlB;IACA,MAAMM,KAAK,GAAGL,YAAY,EAA1B;IACA,MAAMM,MAAM,GAAGJ,SAAS,EAAxB;IACA,MAAMK,KAAK,GAAGN,QAAQ,EAAtB;;IACA,eAAeO,KAAf,GAAuB;MACrB,IAAIC,QAAQ,GAAG;QACbC,KAAK,EAAEP,QAAQ,CAACQ,KADH;QAEbP,QAAQ,EAAEA,QAAQ,CAACO;MAFN,CAAf;;MAIA,IAAIR,QAAQ,CAACQ,KAAT,IAAkBP,QAAQ,CAACO,KAA/B,EAAsC;QACpC,IAAI;UACF,MAAMN,KAAK,CAACG,KAAN,CAAYC,QAAZ,CAAN;;UACA,IAAIF,KAAK,CAACK,KAAN,CAAYC,QAAhB,EAA0B;YACxBP,MAAM,CAACQ,IAAP,CAAYP,KAAK,CAACK,KAAN,CAAYC,QAAxB;UACD,CAFD,MAEO;YACLP,MAAM,CAACQ,IAAP,CAAY,GAAZ;UACD;QAEF,CARD,CAQE,OAAOC,KAAP,EAAc;UACdC,KAAK,CAACD,KAAK,CAACE,OAAP,CAAL;QACD;MACF;IACF","names":["name","ref","useUserStore","useRoute","useRouter","userName","password","store","router","route","login","userInfo","phone","value","query","redirect","push","error","alert","message"],"sources":["D:/web/Vue/shop/src/pages/Login/index.vue"],"sourcesContent":["<template>\r\n  <div class=\"login-container\">\r\n    <!-- 登录 -->\r\n    <div class=\"login-wrap\">\r\n      <div class=\"login\">\r\n        <div class=\"loginform\">\r\n          <ul class=\"tab clearFix\">\r\n            <li>\r\n              <a href=\"##\" style=\"border-right: 0;\">扫描登录</a>\r\n            </li>\r\n            <li>\r\n              <a href=\"##\" class=\"current\">账户登录</a>\r\n            </li>\r\n          </ul>\r\n\r\n          <div class=\"content\">\r\n            <form v-on:submit.prevent>\r\n              <div class=\"input-text clearFix\">\r\n                <span></span>\r\n                <input type=\"text\" placeholder=\"邮箱/用户名/手机号\" v-model=\"userName\">\r\n              </div>\r\n              <div class=\"input-text clearFix\">\r\n                <span class=\"pwd\"></span>\r\n                <input type=\"password\" placeholder=\"请输入密码\" v-model=\"password\">\r\n              </div>\r\n              <div class=\"setting clearFix\">\r\n                <label class=\"checkbox inline\">\r\n                  <input name=\"m1\" type=\"checkbox\" value=\"2\" checked=\"\">\r\n                  自动登录\r\n                </label>\r\n                <span class=\"forget\">忘记密码？</span>\r\n              </div>\r\n              <button class=\"btn\" @click=\"login\">登&nbsp;&nbsp;录</button>\r\n            </form>\r\n\r\n            <div class=\"call clearFix\">\r\n              <ul>\r\n                <li><img src=\"./images/qq.png\" alt=\"\"></li>\r\n                <li><img src=\"./images/sina.png\" alt=\"\"></li>\r\n                <li><img src=\"./images/ali.png\" alt=\"\"></li>\r\n                <li><img src=\"./images/weixin.png\" alt=\"\"></li>\r\n              </ul>\r\n              <router-link class=\"register\" to=\"/register\">立即注册</router-link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- 底部 -->\r\n    <div class=\"copyright\">\r\n      <ul>\r\n        <li>关于我们</li>\r\n        <li>联系我们</li>\r\n        <li>联系客服</li>\r\n        <li>商家入驻</li>\r\n        <li>营销中心</li>\r\n        <li>手机APP</li>\r\n        <li>销售联盟</li>\r\n        <li>活力购社区</li>\r\n      </ul>\r\n      <div class=\"address\">地址：浙江省宁波市鄞州区南部商务区</div>\r\n      <div class=\"beian\">浙ICP备1089375474号\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script setup>\r\nimport { ref } from 'vue';\r\nimport useUserStore from '@/store/User'\r\nimport { useRoute, useRouter } from 'vue-router';\r\nlet userName = ref('')\r\nlet password = ref('')\r\nconst store = useUserStore()\r\nconst router = useRouter()\r\nconst route = useRoute()\r\nasync function login() {\r\n  let userInfo = {\r\n    phone: userName.value,\r\n    password: password.value\r\n  }\r\n  if (userName.value && password.value) {\r\n    try {\r\n      await store.login(userInfo)\r\n      if (route.query.redirect) {\r\n        router.push(route.query.redirect)\r\n      } else {\r\n        router.push('/')\r\n      }\r\n\r\n    } catch (error) {\r\n      alert(error.message);\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Login',\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.login-container {\r\n  .login-wrap {\r\n    height: 487px;\r\n    background-color: #e93854;\r\n\r\n    .login {\r\n      width: 1200px;\r\n      height: 487px;\r\n      margin: 0 auto;\r\n      background: url(./images/loginbg.png) no-repeat;\r\n    }\r\n\r\n    .loginform {\r\n      width: 420px;\r\n      height: 406px;\r\n      box-sizing: border-box;\r\n      background: #fff;\r\n      float: right;\r\n      top: 45px;\r\n      position: relative;\r\n      padding: 20px;\r\n\r\n      .tab {\r\n\r\n        li {\r\n          width: 50%;\r\n          float: left;\r\n          text-align: center;\r\n\r\n          a {\r\n            width: 100%;\r\n            display: block;\r\n            height: 50px;\r\n            line-height: 50px;\r\n            font-size: 20px;\r\n            font-weight: 700;\r\n            color: #333;\r\n            border: 1px solid #ddd;\r\n            box-sizing: border-box;\r\n            text-decoration: none;\r\n\r\n          }\r\n\r\n          .current {\r\n            border-bottom: none;\r\n            border-top-color: #FF4610;\r\n            color: #FF4610;\r\n          }\r\n        }\r\n      }\r\n\r\n      .content {\r\n        width: 380px;\r\n        height: 316px;\r\n        box-sizing: border-box;\r\n        border: 1px solid #ddd;\r\n        border-top: none;\r\n        padding: 18px;\r\n\r\n        form {\r\n          margin: 15px 0 18px 0;\r\n          font-size: 12px;\r\n          line-height: 18px;\r\n\r\n          .input-text {\r\n            margin-bottom: 16px;\r\n\r\n            span {\r\n              float: left;\r\n              width: 37px;\r\n              height: 32px;\r\n              border: 1px solid #ccc;\r\n              background: url(~@/assets/icons.png) no-repeat -10px -201px;\r\n              box-sizing: border-box;\r\n              border-radius: 2px 0 0 2px;\r\n            }\r\n\r\n            .pwd {\r\n              background-position: -72px -201px;\r\n            }\r\n\r\n            input {\r\n              width: 302px;\r\n              height: 32px;\r\n              box-sizing: border-box;\r\n              border: 1px solid #ccc;\r\n              border-left: none;\r\n              float: left;\r\n              padding-top: 6px;\r\n              padding-bottom: 6px;\r\n              font-size: 14px;\r\n              line-height: 22px;\r\n              padding-right: 8px;\r\n              padding-left: 8px;\r\n\r\n              border-radius: 0 2px 2px 0;\r\n              outline: none;\r\n            }\r\n          }\r\n\r\n          .setting {\r\n            label {\r\n              float: left;\r\n            }\r\n\r\n            .forget {\r\n              float: right;\r\n            }\r\n          }\r\n\r\n          .btn {\r\n            background-color: #FF4610;\r\n            padding: 6px;\r\n            border-radius: 0;\r\n            font-size: 16px;\r\n            font-family: 微软雅黑;\r\n            word-spacing: 4px;\r\n            border: 1px solid #FF4610;\r\n            color: #fff;\r\n            width: 100%;\r\n            height: 36px;\r\n            margin-top: 25px;\r\n            outline: none;\r\n          }\r\n        }\r\n\r\n        .call {\r\n          margin-top: 30px;\r\n\r\n          ul {\r\n            float: left;\r\n\r\n            li {\r\n              float: left;\r\n              margin-right: 5px;\r\n            }\r\n          }\r\n\r\n          .register {\r\n            float: right;\r\n            font-size: 15px;\r\n            line-height: 38px;\r\n          }\r\n\r\n          .register:hover {\r\n            color: #FF4610;\r\n            text-decoration: underline;\r\n          }\r\n        }\r\n\r\n      }\r\n    }\r\n  }\r\n\r\n  .copyright {\r\n    width: 1200px;\r\n    margin: 0 auto;\r\n    text-align: center;\r\n    line-height: 24px;\r\n\r\n    ul {\r\n      li {\r\n        display: inline-block;\r\n        border-right: 1px solid #e4e4e4;\r\n        padding: 0 20px;\r\n        margin: 15px 0;\r\n      }\r\n    }\r\n  }\r\n\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}