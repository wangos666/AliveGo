{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\nimport { defineStore } from \"pinia\";\nimport { reqGetDetailInfo, reqAddOrUpdateShopCar } from \"@/api\";\nimport { getUUID } from \"@/utils/uuid_token\";\nexport default defineStore('detail', {\n  state: () => {\n    return {\n      detailInfo: {},\n      imgIndex: 0,\n      uuid_token: getUUID()\n    };\n  },\n  getters: {\n    skuInfo() {\n      return this.detailInfo.skuInfo || {};\n    },\n\n    categoryView() {\n      return this.detailInfo.categoryView || {};\n    },\n\n    spuSaleAttrList() {\n      return this.detailInfo.spuSaleAttrList || {};\n    }\n\n  },\n  actions: {\n    getDetailInfo(skuId) {\n      reqGetDetailInfo(skuId).then(res => this.detailInfo = res.data);\n    },\n\n    getImgIndex(index) {\n      this.imgIndex = index;\n    },\n\n    async addOrUpdateShopCar(skuId, skuNum) {\n      let result = await reqAddOrUpdateShopCar(skuId, skuNum);\n      console.log(result, result.code);\n\n      if (result.code == 200) {\n        return 'ok';\n      } else {\n        return Promise.reject(new Error('faile'));\n      }\n    }\n\n  }\n});","map":{"version":3,"names":["defineStore","reqGetDetailInfo","reqAddOrUpdateShopCar","getUUID","state","detailInfo","imgIndex","uuid_token","getters","skuInfo","categoryView","spuSaleAttrList","actions","getDetailInfo","skuId","then","res","data","getImgIndex","index","addOrUpdateShopCar","skuNum","result","console","log","code","Promise","reject","Error"],"sources":["D:/web/Vue/shop/src/store/Detail/index.js"],"sourcesContent":["import { defineStore } from \"pinia\";\r\nimport { reqGetDetailInfo, reqAddOrUpdateShopCar } from \"@/api\";\r\nimport { getUUID } from \"@/utils/uuid_token\";\r\nexport default defineStore('detail', {\r\n    state: () => {\r\n        return {\r\n            detailInfo: {},\r\n            imgIndex: 0,\r\n            uuid_token: getUUID(),\r\n        }\r\n    },\r\n    getters: {\r\n        skuInfo() {\r\n            return this.detailInfo.skuInfo || {}\r\n        },\r\n        categoryView() {\r\n            return this.detailInfo.categoryView || {}\r\n        },\r\n        spuSaleAttrList() {\r\n            return this.detailInfo.spuSaleAttrList || {}\r\n        },\r\n    },\r\n    actions: {\r\n        getDetailInfo(skuId) {\r\n            reqGetDetailInfo(skuId).then(\r\n                res => this.detailInfo = res.data\r\n            )\r\n        },\r\n        getImgIndex(index) {\r\n            this.imgIndex = index\r\n        },\r\n        async addOrUpdateShopCar(skuId, skuNum) {\r\n            let result = await reqAddOrUpdateShopCar(skuId, skuNum)\r\n            console.log(result, result.code);\r\n            if (result.code == 200) {\r\n                return 'ok'\r\n            } else {\r\n                return Promise.reject(new Error('faile'))\r\n            }\r\n        }\r\n    }\r\n})"],"mappings":";AAAA,SAASA,WAAT,QAA4B,OAA5B;AACA,SAASC,gBAAT,EAA2BC,qBAA3B,QAAwD,OAAxD;AACA,SAASC,OAAT,QAAwB,oBAAxB;AACA,eAAeH,WAAW,CAAC,QAAD,EAAW;EACjCI,KAAK,EAAE,MAAM;IACT,OAAO;MACHC,UAAU,EAAE,EADT;MAEHC,QAAQ,EAAE,CAFP;MAGHC,UAAU,EAAEJ,OAAO;IAHhB,CAAP;EAKH,CAPgC;EAQjCK,OAAO,EAAE;IACLC,OAAO,GAAG;MACN,OAAO,KAAKJ,UAAL,CAAgBI,OAAhB,IAA2B,EAAlC;IACH,CAHI;;IAILC,YAAY,GAAG;MACX,OAAO,KAAKL,UAAL,CAAgBK,YAAhB,IAAgC,EAAvC;IACH,CANI;;IAOLC,eAAe,GAAG;MACd,OAAO,KAAKN,UAAL,CAAgBM,eAAhB,IAAmC,EAA1C;IACH;;EATI,CARwB;EAmBjCC,OAAO,EAAE;IACLC,aAAa,CAACC,KAAD,EAAQ;MACjBb,gBAAgB,CAACa,KAAD,CAAhB,CAAwBC,IAAxB,CACIC,GAAG,IAAI,KAAKX,UAAL,GAAkBW,GAAG,CAACC,IADjC;IAGH,CALI;;IAMLC,WAAW,CAACC,KAAD,EAAQ;MACf,KAAKb,QAAL,GAAgBa,KAAhB;IACH,CARI;;IASL,MAAMC,kBAAN,CAAyBN,KAAzB,EAAgCO,MAAhC,EAAwC;MACpC,IAAIC,MAAM,GAAG,MAAMpB,qBAAqB,CAACY,KAAD,EAAQO,MAAR,CAAxC;MACAE,OAAO,CAACC,GAAR,CAAYF,MAAZ,EAAoBA,MAAM,CAACG,IAA3B;;MACA,IAAIH,MAAM,CAACG,IAAP,IAAe,GAAnB,EAAwB;QACpB,OAAO,IAAP;MACH,CAFD,MAEO;QACH,OAAOC,OAAO,CAACC,MAAR,CAAe,IAAIC,KAAJ,CAAU,OAAV,CAAf,CAAP;MACH;IACJ;;EAjBI;AAnBwB,CAAX,CAA1B"},"metadata":{},"sourceType":"module"}