{"ast":null,"code":"import { createElementVNode as _createElementVNode, unref as _unref, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, withKeys as _withKeys, withModifiers as _withModifiers, isRef as _isRef, vModelText as _vModelText, withDirectives as _withDirectives, createStaticVNode as _createStaticVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nimport _imports_0 from './logo.png';\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-23615246\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"header\"\n};\nconst _hoisted_2 = {\n  class: \"top\"\n};\nconst _hoisted_3 = {\n  class: \"container\"\n};\nconst _hoisted_4 = {\n  class: \"loginList\"\n};\n\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", null, \"活力购欢迎您！\", -1));\n\nconst _hoisted_6 = {\n  key: 0\n};\n\nconst _hoisted_7 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"请\", -1));\n\nconst _hoisted_8 = /*#__PURE__*/_createTextVNode(\"登录\");\n\nconst _hoisted_9 = /*#__PURE__*/_createTextVNode(\"免费注册\");\n\nconst _hoisted_10 = {\n  key: 1\n};\n\nconst _hoisted_11 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"欢迎您  \", -1));\n\nconst _hoisted_12 = {\n  class: \"typeList\"\n};\n\nconst _hoisted_13 = /*#__PURE__*/_createTextVNode(\"我的订单\");\n\nconst _hoisted_14 = /*#__PURE__*/_createTextVNode(\"我的购物车\");\n\nconst _hoisted_15 = /*#__PURE__*/_createStaticVNode(\"<a href=\\\"###\\\" data-v-23615246>我的活力购</a><a href=\\\"###\\\" data-v-23615246>活力购会员</a><a href=\\\"###\\\" data-v-23615246>企业采购</a><a href=\\\"###\\\" data-v-23615246>关注活力购</a><a href=\\\"###\\\" data-v-23615246>合作招商</a><a href=\\\"###\\\" data-v-23615246>商家后台</a>\", 6);\n\nconst _hoisted_21 = {\n  class: \"bottom\"\n};\nconst _hoisted_22 = {\n  class: \"logoArea\"\n};\n\nconst _hoisted_23 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"img\", {\n  src: _imports_0,\n  alt: \"\"\n}, null, -1));\n\nconst _hoisted_24 = {\n  class: \"searchArea\"\n};\nconst _hoisted_25 = {\n  class: \"searchForm\"\n};\nconst _hoisted_26 = [\"onKeydown\"];\nconst __default__ = {\n  name: 'Header'\n};\nimport { onMounted, ref } from 'vue';\nimport { useRoute, useRouter } from 'vue-router';\nimport useHomeStore from '@/store/home';\nimport { storeToRefs } from 'pinia';\nimport useUserStore from '@/store/User';\nexport default /*#__PURE__*/Object.assign(__default__, {\n  setup(__props) {\n    const store = useHomeStore();\n    const userStore = useUserStore();\n    let {\n      keyword\n    } = storeToRefs(store);\n    let {\n      userInfo\n    } = storeToRefs(userStore);\n    const router = useRouter();\n    const route = useRoute();\n    let shopInfo = ref('');\n\n    function goSearch() {\n      store.changeKeyword(keyword.value);\n      router.push({\n        name: 'search',\n        params: {\n          keyword: keyword.value\n        },\n        query: {\n          categoryName: route.query.categoryName || undefined,\n          category1Id: route.query.category1Id || undefined,\n          category2Id: route.query.category2Id || undefined,\n          category3Id: route.query.category3Id || undefined,\n          pageNo: 1\n        }\n      });\n    }\n\n    async function outLogin() {\n      try {\n        await userStore.outLogin();\n        router.push('/home');\n      } catch (error) {\n        alert(error.message);\n      }\n    }\n\n    onMounted(() => {\n      userStore.getUserInfo();\n    });\n    return (_ctx, _cache) => {\n      const _component_router_link = _resolveComponent(\"router-link\");\n\n      return _openBlock(), _createElementBlock(\"header\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_hoisted_5, !_unref(userInfo).name ? (_openBlock(), _createElementBlock(\"p\", _hoisted_6, [_hoisted_7, _createVNode(_component_router_link, {\n        to: \"/login\"\n      }, {\n        default: _withCtx(() => [_hoisted_8]),\n        _: 1\n      }), _createVNode(_component_router_link, {\n        to: \"/register\",\n        class: \"register\"\n      }, {\n        default: _withCtx(() => [_hoisted_9]),\n        _: 1\n      })])) : (_openBlock(), _createElementBlock(\"p\", _hoisted_10, [_hoisted_11, _createElementVNode(\"span\", null, _toDisplayString(_unref(userInfo).name), 1), _createElementVNode(\"a\", {\n        class: \"register\",\n        onClick: outLogin,\n        href: \"javascript:void(0)\"\n      }, \"退出登录\")]))]), _createElementVNode(\"div\", _hoisted_12, [_createVNode(_component_router_link, {\n        to: \"/center\"\n      }, {\n        default: _withCtx(() => [_hoisted_13]),\n        _: 1\n      }), _createVNode(_component_router_link, {\n        to: \"/shopCart\"\n      }, {\n        default: _withCtx(() => [_hoisted_14]),\n        _: 1\n      }), _hoisted_15])])]), _createElementVNode(\"div\", _hoisted_21, [_createElementVNode(\"h1\", _hoisted_22, [_createVNode(_component_router_link, {\n        class: \"logo\",\n        title: \"活力购\",\n        to: \"/\"\n      }, {\n        default: _withCtx(() => [_hoisted_23]),\n        _: 1\n      })]), _createElementVNode(\"div\", _hoisted_24, [_createElementVNode(\"form\", _hoisted_25, [_withDirectives(_createElementVNode(\"input\", {\n        type: \"text\",\n        onKeydown: _withKeys(goSearch, [\"enter\", \"native\"]),\n        onSubmit: _cache[0] || (_cache[0] = _withModifiers(() => {}, [\"prevent\"])),\n        id: \"autocomplete\",\n        class: \"input-error input-xxlarge\",\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => _isRef(keyword) ? keyword.value = $event : keyword = $event)\n      }, null, 40, _hoisted_26), [[_vModelText, _unref(keyword)]]), _createElementVNode(\"button\", {\n        class: \"sui-btn btn-xlarge btn-danger\",\n        type: \"button\",\n        onClick: goSearch\n      }, \"搜索\")])])])]);\n    };\n  }\n\n});","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0FA,oBAAe;EACXA,IAAI,EAAE;AADK,CAAf;AAzCA,SAASC,SAAT,EAAoBC,GAApB,QAA+B,KAA/B;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,YAApC;AACA,OAAOC,YAAP,MAAyB,cAAzB;AACA,SAASC,WAAT,QAA4B,OAA5B;AACA,OAAOC,YAAP,MAAyB,cAAzB;;;IACA,MAAMC,KAAK,GAAGH,YAAY,EAA1B;IACA,MAAMI,SAAS,GAAGF,YAAY,EAA9B;IACA,IAAI;MAAEG;IAAF,IAAcJ,WAAW,CAACE,KAAD,CAA7B;IACA,IAAI;MAAEG;IAAF,IAAeL,WAAW,CAACG,SAAD,CAA9B;IACA,MAAMG,MAAM,GAAGR,SAAS,EAAxB;IACA,MAAMS,KAAK,GAAGV,QAAQ,EAAtB;IACA,IAAIW,QAAQ,GAAGZ,GAAG,CAAC,EAAD,CAAlB;;IACA,SAASa,QAAT,GAAoB;MAChBP,KAAK,CAACQ,aAAN,CAAoBN,OAAO,CAACO,KAA5B;MACAL,MAAM,CAACM,IAAP,CAAY;QACRlB,IAAI,EAAE,QADE;QAERmB,MAAM,EAAE;UACJT,OAAO,EAAEA,OAAO,CAACO;QADb,CAFA;QAKRG,KAAK,EAAE;UACHC,YAAY,EAAER,KAAK,CAACO,KAAN,CAAYC,YAAZ,IAA4BC,SADvC;UAEHC,WAAW,EAAEV,KAAK,CAACO,KAAN,CAAYG,WAAZ,IAA2BD,SAFrC;UAGHE,WAAW,EAAEX,KAAK,CAACO,KAAN,CAAYI,WAAZ,IAA2BF,SAHrC;UAIHG,WAAW,EAAEZ,KAAK,CAACO,KAAN,CAAYK,WAAZ,IAA2BH,SAJrC;UAKHI,MAAM,EAAE;QALL;MALC,CAAZ;IAaH;;IACD,eAAeC,QAAf,GAA0B;MACtB,IAAI;QACA,MAAMlB,SAAS,CAACkB,QAAV,EAAN;QACAf,MAAM,CAACM,IAAP,CAAY,OAAZ;MACH,CAHD,CAGE,OAAOU,KAAP,EAAc;QACZC,KAAK,CAACD,KAAK,CAACE,OAAP,CAAL;MACH;IACJ;;IACD7B,SAAS,CAAC,MAAM;MACZQ,SAAS,CAACsB,WAAV;IACH,CAFQ,CAAT","names":["name","onMounted","ref","useRoute","useRouter","useHomeStore","storeToRefs","useUserStore","store","userStore","keyword","userInfo","router","route","shopInfo","goSearch","changeKeyword","value","push","params","query","categoryName","undefined","category1Id","category2Id","category3Id","pageNo","outLogin","error","alert","message","getUserInfo"],"sources":["D:/web/Vue/shop/src/components/Header/index.vue"],"sourcesContent":["<template>\r\n    <header class=\"header\">\r\n        <!-- 头部的第一行 -->\r\n        <div class=\"top\">\r\n            <div class=\"container\">\r\n                <div class=\"loginList\">\r\n                    <p>活力购欢迎您！</p>\r\n                    <p v-if=\"!userInfo.name\">\r\n                        <span>请</span>\r\n                        <router-link to=\"/login\">登录</router-link>\r\n                        <router-link to=\"/register\" class=\"register\">免费注册</router-link>\r\n                    </p>\r\n                    <p v-else>\r\n                        <span>欢迎您 &nbsp;</span>\r\n                        <span>{{ userInfo.name }}</span>\r\n                        <a class=\"register\" @click=\"outLogin\" href=\"javascript:void(0)\">退出登录</a>\r\n                    </p>\r\n                </div>\r\n                <div class=\"typeList\">\r\n                    <router-link to=\"/center\">我的订单</router-link>\r\n                    <router-link to=\"/shopCart\">我的购物车</router-link>\r\n                    <a href=\"###\">我的活力购</a>\r\n                    <a href=\"###\">活力购会员</a>\r\n                    <a href=\"###\">企业采购</a>\r\n                    <a href=\"###\">关注活力购</a>\r\n                    <a href=\"###\">合作招商</a>\r\n                    <a href=\"###\">商家后台</a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <!--头部第二行 搜索区域-->\r\n        <div class=\"bottom\">\r\n            <h1 class=\"logoArea\">\r\n                <router-link class=\"logo\" title=\"活力购\" to=\"/\">\r\n                    <img src=\"./logo.png\" alt=\"\">\r\n                </router-link>\r\n            </h1>\r\n            <div class=\"searchArea\">\r\n                <form class=\"searchForm\">\r\n                    <input type=\"text\" @keydown.enter.native=\"goSearch\" @submit.native.prevent id=\"autocomplete\"\r\n                        class=\"input-error input-xxlarge\" v-model=\"keyword\" />\r\n                    <button class=\"sui-btn btn-xlarge btn-danger\" type=\"button\" @click=\"goSearch\">搜索</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </header>\r\n</template>\r\n\r\n<script setup>\r\nimport { onMounted, ref } from 'vue'\r\nimport { useRoute, useRouter } from 'vue-router'\r\nimport useHomeStore from '@/store/home'\r\nimport { storeToRefs } from 'pinia';\r\nimport useUserStore from '@/store/User'\r\nconst store = useHomeStore()\r\nconst userStore = useUserStore()\r\nlet { keyword } = storeToRefs(store)\r\nlet { userInfo } = storeToRefs(userStore)\r\nconst router = useRouter()\r\nconst route = useRoute()\r\nlet shopInfo = ref('')\r\nfunction goSearch() {\r\n    store.changeKeyword(keyword.value)\r\n    router.push({\r\n        name: 'search',\r\n        params: {\r\n            keyword: keyword.value\r\n        },\r\n        query: {\r\n            categoryName: route.query.categoryName || undefined,\r\n            category1Id: route.query.category1Id || undefined,\r\n            category2Id: route.query.category2Id || undefined,\r\n            category3Id: route.query.category3Id || undefined,\r\n            pageNo: 1\r\n        }\r\n    })\r\n}\r\nasync function outLogin() {\r\n    try {\r\n        await userStore.outLogin()\r\n        router.push('/home')\r\n    } catch (error) {\r\n        alert(error.message)\r\n    }\r\n}\r\nonMounted(() => {\r\n    userStore.getUserInfo()\r\n})\r\n</script>\r\n<script>\r\nexport default {\r\n    name: 'Header',\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.header {\r\n    &>.top {\r\n        background-color: #eaeaea;\r\n        height: 30px;\r\n        line-height: 30px;\r\n\r\n        .container {\r\n            width: 1200px;\r\n            margin: 0 auto;\r\n            overflow: hidden;\r\n\r\n            .loginList {\r\n                float: left;\r\n\r\n                p {\r\n                    float: left;\r\n                    margin-right: 10px;\r\n\r\n                    a:hover {\r\n                        color: #FF4610;\r\n                    }\r\n\r\n                    .register {\r\n                        border-left: 1px solid #b3aeae;\r\n                        padding: 0 5px;\r\n                        margin-left: 5px;\r\n                    }\r\n                }\r\n            }\r\n\r\n            .typeList {\r\n                float: right;\r\n\r\n                a {\r\n                    padding: 0 10px;\r\n\r\n                    &+a {\r\n                        border-left: 1px solid #b3aeae;\r\n                    }\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    &>.bottom {\r\n        width: 1200px;\r\n        margin: 0 auto;\r\n        overflow: hidden;\r\n\r\n        .logoArea {\r\n            float: left;\r\n\r\n            .logo {\r\n                img {\r\n                    width: 175px;\r\n                    height: 54px;\r\n                    margin: 20px 18px;\r\n                }\r\n            }\r\n        }\r\n\r\n        .searchArea {\r\n            float: right;\r\n            margin-top: 35px;\r\n\r\n            .searchForm {\r\n                overflow: hidden;\r\n\r\n                input {\r\n                    box-sizing: border-box;\r\n                    width: 490px;\r\n                    height: 32px;\r\n                    padding: 0px 4px;\r\n                    border: 2px solid #FF4610;\r\n                    float: left;\r\n\r\n                    &:focus {\r\n                        outline: none;\r\n                    }\r\n                }\r\n\r\n                button {\r\n                    height: 32px;\r\n                    width: 68px;\r\n                    background-color: #FF4610;\r\n                    border: none;\r\n                    color: #fff;\r\n                    float: left;\r\n                    cursor: pointer;\r\n\r\n                    &:focus {\r\n                        outline: none;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}