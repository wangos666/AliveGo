{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\nimport { defineStore } from \"pinia\";\nimport { reqAddressInfo, reqOrderInfo, reqSubmitOrder, reqPayInfo, reqPayStatus } from \"@/api\";\nimport QRCode from 'qrcode';\nexport default defineStore('trade', {\n  state: () => {\n    return {\n      address: [],\n      OrderInfo: {},\n      orderId: '',\n      payInfo: {},\n      vxUrl: '',\n      payStatus: ''\n    };\n  },\n  getters: {},\n  actions: {\n    getAddress() {\n      reqAddressInfo().then(res => this.address = res.data);\n    },\n\n    getOrderInfo() {\n      reqOrderInfo().then(res => this.OrderInfo = res.data);\n    },\n\n    async submitOrder(tradeNo, data) {\n      let result = await reqSubmitOrder(tradeNo, data);\n\n      if (result.code == 200) {\n        this.orderId = result.data;\n        return 'ok';\n      } else {\n        return Promise.reject(new Error(result.message));\n      }\n    },\n\n    getPayInfo(orderId) {\n      reqPayInfo(orderId).then(res => {\n        this.payInfo = res.data;\n        QRCode.toDataURL(res.data.codeUrl).then(url => {\n          this.vxUrl = url;\n        });\n      });\n    },\n\n    getPayStatus(orderId) {\n      reqPayStatus(orderId).then(res => this.payStatus == res.code);\n    }\n\n  }\n});","map":{"version":3,"names":["defineStore","reqAddressInfo","reqOrderInfo","reqSubmitOrder","reqPayInfo","reqPayStatus","QRCode","state","address","OrderInfo","orderId","payInfo","vxUrl","payStatus","getters","actions","getAddress","then","res","data","getOrderInfo","submitOrder","tradeNo","result","code","Promise","reject","Error","message","getPayInfo","toDataURL","codeUrl","url","getPayStatus"],"sources":["D:/web/Vue/shop/src/store/Trade/index.js"],"sourcesContent":["import { defineStore } from \"pinia\";\r\nimport { reqAddressInfo, reqOrderInfo, reqSubmitOrder, reqPayInfo, reqPayStatus } from \"@/api\";\r\nimport QRCode from 'qrcode'\r\nexport default defineStore('trade', {\r\n    state: () => {\r\n        return {\r\n            address: [],\r\n            OrderInfo: {},\r\n            orderId: '',\r\n            payInfo: {},\r\n            vxUrl: '',\r\n            payStatus: '',\r\n        }\r\n    },\r\n    getters: {\r\n\r\n    },\r\n    actions: {\r\n        getAddress() {\r\n            reqAddressInfo().then(\r\n                res => this.address = res.data\r\n            )\r\n        },\r\n        getOrderInfo() {\r\n            reqOrderInfo().then(\r\n                res => this.OrderInfo = res.data\r\n            )\r\n        },\r\n        async submitOrder(tradeNo, data) {\r\n            let result = await reqSubmitOrder(tradeNo, data)\r\n            if (result.code == 200) {\r\n                this.orderId = result.data\r\n                return 'ok'\r\n            } else {\r\n                return Promise.reject(new Error(result.message))\r\n            }\r\n        },\r\n        getPayInfo(orderId) {\r\n            reqPayInfo(orderId).then(\r\n                res => {\r\n                    this.payInfo = res.data\r\n                    QRCode.toDataURL(res.data.codeUrl)\r\n                        .then(url => {\r\n                            this.vxUrl = url\r\n                        })\r\n                }\r\n            )\r\n        },\r\n        getPayStatus(orderId) {\r\n            reqPayStatus(orderId).then(\r\n                res => this.payStatus == res.code\r\n            )\r\n        }\r\n    }\r\n})"],"mappings":";AAAA,SAASA,WAAT,QAA4B,OAA5B;AACA,SAASC,cAAT,EAAyBC,YAAzB,EAAuCC,cAAvC,EAAuDC,UAAvD,EAAmEC,YAAnE,QAAuF,OAAvF;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,eAAeN,WAAW,CAAC,OAAD,EAAU;EAChCO,KAAK,EAAE,MAAM;IACT,OAAO;MACHC,OAAO,EAAE,EADN;MAEHC,SAAS,EAAE,EAFR;MAGHC,OAAO,EAAE,EAHN;MAIHC,OAAO,EAAE,EAJN;MAKHC,KAAK,EAAE,EALJ;MAMHC,SAAS,EAAE;IANR,CAAP;EAQH,CAV+B;EAWhCC,OAAO,EAAE,EAXuB;EAchCC,OAAO,EAAE;IACLC,UAAU,GAAG;MACTf,cAAc,GAAGgB,IAAjB,CACIC,GAAG,IAAI,KAAKV,OAAL,GAAeU,GAAG,CAACC,IAD9B;IAGH,CALI;;IAMLC,YAAY,GAAG;MACXlB,YAAY,GAAGe,IAAf,CACIC,GAAG,IAAI,KAAKT,SAAL,GAAiBS,GAAG,CAACC,IADhC;IAGH,CAVI;;IAWL,MAAME,WAAN,CAAkBC,OAAlB,EAA2BH,IAA3B,EAAiC;MAC7B,IAAII,MAAM,GAAG,MAAMpB,cAAc,CAACmB,OAAD,EAAUH,IAAV,CAAjC;;MACA,IAAII,MAAM,CAACC,IAAP,IAAe,GAAnB,EAAwB;QACpB,KAAKd,OAAL,GAAea,MAAM,CAACJ,IAAtB;QACA,OAAO,IAAP;MACH,CAHD,MAGO;QACH,OAAOM,OAAO,CAACC,MAAR,CAAe,IAAIC,KAAJ,CAAUJ,MAAM,CAACK,OAAjB,CAAf,CAAP;MACH;IACJ,CAnBI;;IAoBLC,UAAU,CAACnB,OAAD,EAAU;MAChBN,UAAU,CAACM,OAAD,CAAV,CAAoBO,IAApB,CACIC,GAAG,IAAI;QACH,KAAKP,OAAL,GAAeO,GAAG,CAACC,IAAnB;QACAb,MAAM,CAACwB,SAAP,CAAiBZ,GAAG,CAACC,IAAJ,CAASY,OAA1B,EACKd,IADL,CACUe,GAAG,IAAI;UACT,KAAKpB,KAAL,GAAaoB,GAAb;QACH,CAHL;MAIH,CAPL;IASH,CA9BI;;IA+BLC,YAAY,CAACvB,OAAD,EAAU;MAClBL,YAAY,CAACK,OAAD,CAAZ,CAAsBO,IAAtB,CACIC,GAAG,IAAI,KAAKL,SAAL,IAAkBK,GAAG,CAACM,IADjC;IAGH;;EAnCI;AAduB,CAAV,CAA1B"},"metadata":{},"sourceType":"module"}