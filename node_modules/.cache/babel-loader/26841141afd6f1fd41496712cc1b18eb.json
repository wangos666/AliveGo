{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\nimport { defineStore } from \"pinia\";\nimport { reqGetCartList, reqDeleteCartById } from \"@/api\";\nexport default defineStore('shopcart', {\n  state: () => {\n    return {\n      cartList: []\n    };\n  },\n  getters: {\n    cartInfoList() {\n      let res = this.cartList[0] !== undefined ? this.cartList[0].cartInfoList : [];\n      return res;\n    }\n\n  },\n  actions: {\n    getCartList() {\n      reqGetCartList().then(res => {\n        this.cartList = res.data;\n      });\n    },\n\n    async deleteCartById(skuId) {\n      let result = await reqDeleteCartById(skuId);\n\n      if (result.code == 200) {\n        return 'ok';\n      } else {\n        Promise.reject(new Error('faile'));\n      }\n    }\n\n  }\n});","map":{"version":3,"names":["defineStore","reqGetCartList","reqDeleteCartById","state","cartList","getters","cartInfoList","res","undefined","actions","getCartList","then","data","deleteCartById","skuId","result","code","Promise","reject","Error"],"sources":["D:/web/Vue/shop/src/store/Shopcart/index.js"],"sourcesContent":["import { defineStore } from \"pinia\";\r\nimport { reqGetCartList, reqDeleteCartById } from \"@/api\";\r\nexport default defineStore('shopcart', {\r\n    state: () => {\r\n        return {\r\n            cartList: []\r\n        }\r\n    },\r\n    getters: {\r\n        cartInfoList() {\r\n            let res = this.cartList[0] !== undefined ? this.cartList[0].cartInfoList : []\r\n            return res\r\n        }\r\n    },\r\n    actions: {\r\n        getCartList() {\r\n            reqGetCartList().then(\r\n                res => {\r\n                    this.cartList = res.data\r\n                }\r\n            )\r\n        },\r\n        async deleteCartById(skuId) {\r\n            let result = await reqDeleteCartById(skuId)\r\n            if (result.code == 200) {\r\n                return 'ok'\r\n            } else {\r\n                Promise.reject(new Error('faile'))\r\n            }\r\n        }\r\n    }\r\n\r\n})"],"mappings":";AAAA,SAASA,WAAT,QAA4B,OAA5B;AACA,SAASC,cAAT,EAAyBC,iBAAzB,QAAkD,OAAlD;AACA,eAAeF,WAAW,CAAC,UAAD,EAAa;EACnCG,KAAK,EAAE,MAAM;IACT,OAAO;MACHC,QAAQ,EAAE;IADP,CAAP;EAGH,CALkC;EAMnCC,OAAO,EAAE;IACLC,YAAY,GAAG;MACX,IAAIC,GAAG,GAAG,KAAKH,QAAL,CAAc,CAAd,MAAqBI,SAArB,GAAiC,KAAKJ,QAAL,CAAc,CAAd,EAAiBE,YAAlD,GAAiE,EAA3E;MACA,OAAOC,GAAP;IACH;;EAJI,CAN0B;EAYnCE,OAAO,EAAE;IACLC,WAAW,GAAG;MACVT,cAAc,GAAGU,IAAjB,CACIJ,GAAG,IAAI;QACH,KAAKH,QAAL,GAAgBG,GAAG,CAACK,IAApB;MACH,CAHL;IAKH,CAPI;;IAQL,MAAMC,cAAN,CAAqBC,KAArB,EAA4B;MACxB,IAAIC,MAAM,GAAG,MAAMb,iBAAiB,CAACY,KAAD,CAApC;;MACA,IAAIC,MAAM,CAACC,IAAP,IAAe,GAAnB,EAAwB;QACpB,OAAO,IAAP;MACH,CAFD,MAEO;QACHC,OAAO,CAACC,MAAR,CAAe,IAAIC,KAAJ,CAAU,OAAV,CAAf;MACH;IACJ;;EAfI;AAZ0B,CAAb,CAA1B"},"metadata":{},"sourceType":"module"}