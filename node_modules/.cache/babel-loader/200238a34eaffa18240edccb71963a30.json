{"ast":null,"code":"const __default__ = {\n  name: 'Trade'\n};\nimport useTradeStore from '@/store/Trade';\nimport { storeToRefs } from 'pinia';\nimport { computed, onMounted } from 'vue';\nexport default /*#__PURE__*/Object.assign(__default__, {\n  setup(__props, {\n    expose\n  }) {\n    expose();\n    const store = useTradeStore();\n    let {\n      address,\n      OrderInfo\n    } = storeToRefs(store);\n    onMounted(() => {\n      store.getAddress();\n      store.getOrderInfo();\n    });\n    let userDefaultAddress = computed(() => {\n      let address1 = address.value.filter(item => item.isDefault == '1');\n      return address1[0] || {};\n    });\n\n    function changeDefault(address, addressInfo) {\n      addressInfo.forEach(element => {\n        element.isDefault = '0';\n      });\n      address.isDefault = '1';\n    }\n\n    async function submitOrderInfo() {\n      let traderNo = OrderInfo.value.tradeNo;\n      let data = {\n        \"consignee\": userDefaultAddress.value.consignee,\n        \"consigneeTel\": userDefaultAddress.value.phoneNum,\n        \"deliveryAddress\": userDefaultAddress.value.fullAddress,\n        \"paymentWay\": \"ONLINE\",\n        \"orderComment\": \"xxx\",\n        \"orderDetailList\": ''\n      };\n      console.log(data);\n\n      try {} catch (error) {}\n    }\n\n    const __returned__ = {\n      store,\n      address,\n      OrderInfo,\n      userDefaultAddress,\n      changeDefault,\n      submitOrderInfo,\n      useTradeStore,\n      storeToRefs,\n      computed,\n      onMounted\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n\n});","map":{"version":3,"mappings":"AAiIA,oBAAe;EACbA,IAAI,EAAE;AADO,CAAf;AAtCA,OAAOC,aAAP,MAA0B,eAA1B;AACA,SAASC,WAAT,QAA4B,OAA5B;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,KAApC;;;;;;IACA,MAAMC,KAAK,GAAGJ,aAAa,EAA3B;IACA,IAAI;MAAEK,OAAF;MAAWC;IAAX,IAAyBL,WAAW,CAACG,KAAD,CAAxC;IACAD,SAAS,CAAC,MAAM;MACdC,KAAK,CAACG,UAAN;MACAH,KAAK,CAACI,YAAN;IACD,CAHQ,CAAT;IAIA,IAAIC,kBAAkB,GAAGP,QAAQ,CAAC,MAAM;MACtC,IAAIQ,QAAQ,GAAGL,OAAO,CAACM,KAAR,CAAcC,MAAd,CAAqBC,IAAI,IAAIA,IAAI,CAACC,SAAL,IAAkB,GAA/C,CAAf;MACA,OAAOJ,QAAQ,CAAC,CAAD,CAAR,IAAe,EAAtB;IACD,CAHgC,CAAjC;;IAIA,SAASK,aAAT,CAAuBV,OAAvB,EAAgCW,WAAhC,EAA6C;MAC3CA,WAAW,CAACC,OAAZ,CAAoBC,OAAO,IAAI;QAC7BA,OAAO,CAACJ,SAAR,GAAoB,GAApB;MACD,CAFD;MAGAT,OAAO,CAACS,SAAR,GAAoB,GAApB;IACD;;IACD,eAAeK,eAAf,GAAiC;MAC/B,IAAIC,QAAQ,GAAGd,SAAS,CAACK,KAAV,CAAgBU,OAA/B;MACA,IAAIC,IAAI,GAAG;QACT,aAAab,kBAAkB,CAACE,KAAnB,CAAyBY,SAD7B;QAET,gBAAgBd,kBAAkB,CAACE,KAAnB,CAAyBa,QAFhC;QAGT,mBAAmBf,kBAAkB,CAACE,KAAnB,CAAyBc,WAHnC;QAIT,cAAc,QAJL;QAKT,gBAAgB,KALP;QAMT,mBAAmB;MANV,CAAX;MAQAC,OAAO,CAACC,GAAR,CAAYL,IAAZ;;MACA,IAAI,CAEH,CAFD,CAEE,OAAOM,KAAP,EAAc,CAEf;IACF","names":["name","useTradeStore","storeToRefs","computed","onMounted","store","address","OrderInfo","getAddress","getOrderInfo","userDefaultAddress","address1","value","filter","item","isDefault","changeDefault","addressInfo","forEach","element","submitOrderInfo","traderNo","tradeNo","data","consignee","phoneNum","fullAddress","console","log","error"],"sources":["D:/web/Vue/shop/src/pages/Trade/index.vue"],"sourcesContent":["<template>\r\n  <TypeNav></TypeNav>\r\n  <div class=\"trade-container\">\r\n    <h3 class=\"title\">填写并核对订单信息</h3>\r\n    <div class=\"content\">\r\n      <h5 class=\"receive\">收件人信息</h5>\r\n      <div class=\"address clearFix\" v-for=\"item in address\" :key=\"item.id\" @click=\"changeDefault(item, address)\">\r\n        <span class=\"username\" :class=\"{ selected: item.isDefault == 1 }\">{{ item.consignee }}</span>\r\n        <p>\r\n          <span class=\"s1\">{{ item.fullAddress }}</span>\r\n          <span class=\"s2\">{{ item.phoneNum }}</span>\r\n          <span class=\"s3\" v-show=\"item.isDefault == 1\">默认地址</span>\r\n        </p>\r\n      </div>\r\n      <div class=\"line\"></div>\r\n      <h5 class=\"pay\">支付方式</h5>\r\n      <div class=\"address clearFix\">\r\n        <span class=\"username selected\">在线支付</span>\r\n        <span class=\"username\" style=\"margin-left:5px;\">货到付款</span>\r\n\r\n      </div>\r\n      <div class=\"line\"></div>\r\n      <h5 class=\"pay\">送货清单</h5>\r\n      <div class=\"way\">\r\n        <h5>配送方式</h5>\r\n        <div class=\"info clearFix\">\r\n          <span class=\"s1\">平台配送</span>\r\n          <p>配送时间：预计明天 09:00-15:00送达</p>\r\n        </div>\r\n      </div>\r\n      <div class=\"detail\">\r\n        <h5>商品清单</h5>\r\n        <ul class=\"list clearFix\" v-for=\"item in OrderInfo.detailArrayList \" :key=\"item.skuId\">\r\n          <li>\r\n            <img :src=\"item.imgUrl\" alt=\"\">\r\n          </li>\r\n          <li>\r\n            <p>\r\n              {{ item.skuName }}</p>\r\n            <h4>7天无理由退货</h4>\r\n          </li>\r\n          <li>\r\n            <h3>￥{{ item.orderPrice }}</h3>\r\n          </li>\r\n          <li>X{{ item.skuNum }}</li>\r\n          <li>有货</li>\r\n        </ul>\r\n      </div>\r\n      <div class=\"bbs\">\r\n        <h5>买家留言：</h5>\r\n        <textarea placeholder=\"建议留言前先与商家沟通确认\" class=\"remarks-cont\"></textarea>\r\n\r\n      </div>\r\n      <div class=\"line\"></div>\r\n      <div class=\"bill\">\r\n        <h5>发票信息：</h5>\r\n        <div>普通发票（电子） 个人 明细</div>\r\n        <h5>使用优惠/抵用</h5>\r\n      </div>\r\n    </div>\r\n    <div class=\"money clearFix\">\r\n      <ul>\r\n        <li>\r\n          <b><i>{{ OrderInfo.totalNum }}</i>件商品，总商品金额</b>\r\n          <span>¥{{ OrderInfo.originalTotalAmount }}</span>\r\n        </li>\r\n        <li>\r\n          <b>返现：</b>\r\n          <span>0.00</span>\r\n        </li>\r\n        <li>\r\n          <b>运费：</b>\r\n          <span>0.00</span>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <div class=\"trade\">\r\n      <div class=\"price\">应付金额:　<span>¥{{ OrderInfo.totalAmount }}</span></div>\r\n      <div class=\"receiveInfo\" v-show=\"userDefaultAddress.fullAddress\">\r\n        寄送至:\r\n        <span>{{ userDefaultAddress.fullAddress }}</span>\r\n        收货人：<span>{{ userDefaultAddress.consignee }}</span>&nbsp;\r\n        <span>{{ userDefaultAddress.phoneNum }}</span>\r\n      </div>\r\n    </div>\r\n    <div class=\"sub clearFix\">\r\n      <a class=\"subBtn\" @click=\"submitOrderInfo\">提交订单</a>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script setup>\r\nimport useTradeStore from '@/store/Trade'\r\nimport { storeToRefs } from 'pinia'\r\nimport { computed, onMounted } from 'vue';\r\nconst store = useTradeStore()\r\nlet { address, OrderInfo } = storeToRefs(store)\r\nonMounted(() => {\r\n  store.getAddress()\r\n  store.getOrderInfo()\r\n})\r\nlet userDefaultAddress = computed(() => {\r\n  let address1 = address.value.filter(item => item.isDefault == '1')\r\n  return address1[0] || {}\r\n})\r\nfunction changeDefault(address, addressInfo) {\r\n  addressInfo.forEach(element => {\r\n    element.isDefault = '0'\r\n  });\r\n  address.isDefault = '1'\r\n}\r\nasync function submitOrderInfo() {\r\n  let traderNo = OrderInfo.value.tradeNo\r\n  let data = {\r\n    \"consignee\": userDefaultAddress.value.consignee,\r\n    \"consigneeTel\": userDefaultAddress.value.phoneNum,\r\n    \"deliveryAddress\": userDefaultAddress.value.fullAddress,\r\n    \"paymentWay\": \"ONLINE\",\r\n    \"orderComment\": \"xxx\",\r\n    \"orderDetailList\": ''\r\n  }\r\n  console.log(data);\r\n  try {\r\n\r\n  } catch (error) {\r\n\r\n  }\r\n}\r\n</script>\r\n<script>\r\nexport default {\r\n  name: 'Trade',\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.trade-container {\r\n  margin-top: 10px;\r\n\r\n  .title {\r\n    width: 1200px;\r\n    margin: 0 auto;\r\n    font-size: 14px;\r\n    line-height: 21px;\r\n  }\r\n\r\n  .content {\r\n    width: 1200px;\r\n    margin: 10px auto 0;\r\n    border: 1px solid rgb(221, 221, 221);\r\n    padding: 25px;\r\n    box-sizing: border-box;\r\n\r\n    .receive,\r\n    .pay {\r\n      line-height: 36px;\r\n      margin: 18px 0;\r\n    }\r\n\r\n    .address {\r\n      padding-left: 20px;\r\n      margin-bottom: 15px;\r\n\r\n      .username {\r\n        float: left;\r\n        width: 100px;\r\n        height: 30px;\r\n        line-height: 30px;\r\n        text-align: center;\r\n        border: 1px solid #ddd;\r\n        position: relative;\r\n      }\r\n\r\n      .username::after {\r\n        content: \"\";\r\n        display: none;\r\n        width: 13px;\r\n        height: 13px;\r\n        position: absolute;\r\n        right: 0;\r\n        bottom: 0;\r\n        background: url(./images/choosed.png) no-repeat;\r\n      }\r\n\r\n      .username.selected {\r\n        border-color: #FF4610;\r\n      }\r\n\r\n      .username.selected::after {\r\n        display: block;\r\n      }\r\n\r\n      p {\r\n        width: 610px;\r\n        float: left;\r\n        line-height: 30px;\r\n        margin-left: 10px;\r\n        padding-left: 5px;\r\n        cursor: pointer;\r\n\r\n        .s1 {\r\n          float: left;\r\n\r\n        }\r\n\r\n        .s2 {\r\n          float: left;\r\n          margin: 0 5px;\r\n        }\r\n\r\n        .s3 {\r\n          float: left;\r\n          width: 56px;\r\n          height: 24px;\r\n          line-height: 24px;\r\n          margin-left: 10px;\r\n          background-color: #878787;\r\n          color: #fff;\r\n          margin-top: 3px;\r\n          text-align: center;\r\n        }\r\n      }\r\n\r\n      p:hover {\r\n        background-color: #ddd;\r\n      }\r\n    }\r\n\r\n    .line {\r\n      height: 1px;\r\n      background-color: #ddd;\r\n    }\r\n\r\n    .way {\r\n      width: 1080px;\r\n      height: 110px;\r\n      background: #f4f4f4;\r\n      padding: 15px;\r\n      margin: 0 auto;\r\n\r\n      h5 {\r\n        line-height: 50px;\r\n      }\r\n\r\n      .info {\r\n        margin-top: 20px;\r\n\r\n        .s1 {\r\n          float: left;\r\n          border: 1px solid #ddd;\r\n          width: 120px;\r\n          height: 30px;\r\n          line-height: 30px;\r\n          text-align: center;\r\n          margin-right: 10px;\r\n        }\r\n\r\n        p {\r\n          line-height: 30px;\r\n        }\r\n      }\r\n    }\r\n\r\n    .detail {\r\n      width: 1080px;\r\n\r\n      background: #feedef;\r\n      padding: 15px;\r\n      margin: 2px auto 0;\r\n\r\n      h5 {\r\n        line-height: 50px;\r\n      }\r\n\r\n      .list {\r\n        display: flex;\r\n        justify-content: space-between;\r\n\r\n        img {\r\n          height: 80px;\r\n          width: 80px;\r\n        }\r\n\r\n        li {\r\n          line-height: 30px;\r\n\r\n          p {\r\n\r\n            margin-bottom: 20px;\r\n          }\r\n\r\n          h4 {\r\n            color: #FF4610;\r\n            font-weight: 400;\r\n          }\r\n\r\n          h3 {\r\n\r\n            color: #FF4610;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    .bbs {\r\n      margin-bottom: 15px;\r\n\r\n      h5 {\r\n        line-height: 50px;\r\n      }\r\n\r\n      textarea {\r\n        width: 100%;\r\n        border-color: #e4e2e2;\r\n        line-height: 1.8;\r\n        outline: none;\r\n        resize: none;\r\n      }\r\n    }\r\n\r\n    .bill {\r\n      h5 {\r\n        line-height: 50px;\r\n      }\r\n\r\n      div {\r\n        padding-left: 15px;\r\n      }\r\n    }\r\n  }\r\n\r\n  .money {\r\n    width: 1200px;\r\n    margin: 20px auto;\r\n\r\n    ul {\r\n      width: 220px;\r\n      float: right;\r\n\r\n      li {\r\n        line-height: 30px;\r\n        display: flex;\r\n        justify-content: space-between;\r\n\r\n        i {\r\n          color: red;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .trade {\r\n    box-sizing: border-box;\r\n    width: 1200px;\r\n    padding: 10px;\r\n    margin: 10px auto;\r\n    text-align: right;\r\n    background-color: #f4f4f4;\r\n    border: 1px solid #ddd;\r\n\r\n    div {\r\n      line-height: 30px;\r\n    }\r\n\r\n    .price span {\r\n      color: #FF4610;\r\n      font-weight: 700;\r\n      font-size: 14px;\r\n    }\r\n\r\n    .receiveInfo {\r\n      color: #999;\r\n    }\r\n  }\r\n\r\n  .sub {\r\n    width: 1200px;\r\n    margin: 0 auto 10px;\r\n\r\n    .subBtn {\r\n      float: right;\r\n      width: 164px;\r\n      height: 56px;\r\n      font: 700 18px \"微软雅黑\";\r\n      line-height: 56px;\r\n      text-align: center;\r\n      color: #fff;\r\n      background-color: #FF4610;\r\n\r\n    }\r\n  }\r\n\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}