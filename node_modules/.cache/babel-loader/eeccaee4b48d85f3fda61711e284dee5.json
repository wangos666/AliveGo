{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\nimport { defineStore } from \"pinia\";\nimport { reqGetCartList, reqDeleteCartById } from \"@/api\";\nexport default defineStore('shopcart', {\n  state: () => {\n    return {\n      cartList: []\n    };\n  },\n  getters: {\n    cartInfoList() {\n      let res = this.cartList[0] !== undefined ? this.cartList[0].cartInfoList : [];\n      return res;\n    }\n\n  },\n  actions: {\n    getCartList() {\n      reqGetCartList().then(res => {\n        this.cartList = res.data;\n      });\n    },\n\n    deleteCartById(skuId) {\n      reqDeleteCartById(skuId).then(res => {\n        if (res.code === 200) {\n          return 'ok';\n        } else {\n          return Promise.reject(new Error('faile'));\n        }\n      });\n    }\n\n  }\n});","map":{"version":3,"names":["defineStore","reqGetCartList","reqDeleteCartById","state","cartList","getters","cartInfoList","res","undefined","actions","getCartList","then","data","deleteCartById","skuId","code","Promise","reject","Error"],"sources":["D:/web/Vue/shop/src/store/Shopcart/index.js"],"sourcesContent":["import { defineStore } from \"pinia\";\r\nimport { reqGetCartList, reqDeleteCartById } from \"@/api\";\r\nexport default defineStore('shopcart', {\r\n    state: () => {\r\n        return {\r\n            cartList: []\r\n        }\r\n    },\r\n    getters: {\r\n        cartInfoList() {\r\n            let res = this.cartList[0] !== undefined ? this.cartList[0].cartInfoList : []\r\n            return res\r\n        }\r\n    },\r\n    actions: {\r\n        getCartList() {\r\n            reqGetCartList().then(\r\n                res => {\r\n                    this.cartList = res.data\r\n                }\r\n            )\r\n        },\r\n        deleteCartById(skuId) {\r\n            reqDeleteCartById(skuId).then(\r\n                res => {\r\n                    if (res.code === 200) {\r\n                        return 'ok'\r\n                    } else {\r\n                        return Promise.reject(new Error('faile'))\r\n                    }\r\n                }\r\n            )\r\n        }\r\n    }\r\n\r\n})"],"mappings":";AAAA,SAASA,WAAT,QAA4B,OAA5B;AACA,SAASC,cAAT,EAAyBC,iBAAzB,QAAkD,OAAlD;AACA,eAAeF,WAAW,CAAC,UAAD,EAAa;EACnCG,KAAK,EAAE,MAAM;IACT,OAAO;MACHC,QAAQ,EAAE;IADP,CAAP;EAGH,CALkC;EAMnCC,OAAO,EAAE;IACLC,YAAY,GAAG;MACX,IAAIC,GAAG,GAAG,KAAKH,QAAL,CAAc,CAAd,MAAqBI,SAArB,GAAiC,KAAKJ,QAAL,CAAc,CAAd,EAAiBE,YAAlD,GAAiE,EAA3E;MACA,OAAOC,GAAP;IACH;;EAJI,CAN0B;EAYnCE,OAAO,EAAE;IACLC,WAAW,GAAG;MACVT,cAAc,GAAGU,IAAjB,CACIJ,GAAG,IAAI;QACH,KAAKH,QAAL,GAAgBG,GAAG,CAACK,IAApB;MACH,CAHL;IAKH,CAPI;;IAQLC,cAAc,CAACC,KAAD,EAAQ;MAClBZ,iBAAiB,CAACY,KAAD,CAAjB,CAAyBH,IAAzB,CACIJ,GAAG,IAAI;QACH,IAAIA,GAAG,CAACQ,IAAJ,KAAa,GAAjB,EAAsB;UAClB,OAAO,IAAP;QACH,CAFD,MAEO;UACH,OAAOC,OAAO,CAACC,MAAR,CAAe,IAAIC,KAAJ,CAAU,OAAV,CAAf,CAAP;QACH;MACJ,CAPL;IASH;;EAlBI;AAZ0B,CAAb,CAA1B"},"metadata":{},"sourceType":"module"}