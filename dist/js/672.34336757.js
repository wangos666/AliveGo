"use strict";(self["webpackChunkshop"]=self["webpackChunkshop"]||[]).push([[672],{1672:function(l,a,s){s.r(a),s.d(a,{default:function(){return J}});var e=s(2010),n=s(3396),d=s(4870),i=s(7139),u=s(9242),t=s(9522),c=s(8650),r=s(678);const v=l=>((0,n.dD)("data-v-18a694d1"),l=l(),(0,n.Cn)(),l),_={class:"trade-container"},o=v((()=>(0,n._)("h3",{class:"title"},"填写并核对订单信息",-1))),p={class:"content"},h=v((()=>(0,n._)("h5",{class:"receive"},"收件人信息",-1))),m=["onClick"],w={class:"s1"},f={class:"s2"},k={class:"s3"},g=(0,n.uE)('<div class="line" data-v-18a694d1></div><h5 class="pay" data-v-18a694d1>支付方式</h5><div class="address clearFix" data-v-18a694d1><span class="username selected" data-v-18a694d1>在线支付</span><span class="username" style="margin-left:5px;" data-v-18a694d1>货到付款</span></div><div class="line" data-v-18a694d1></div><h5 class="pay" data-v-18a694d1>送货清单</h5><div class="way" data-v-18a694d1><h5 data-v-18a694d1>配送方式</h5><div class="info clearFix" data-v-18a694d1><span class="s1" data-v-18a694d1>平台配送</span><p data-v-18a694d1>配送时间：预计明天 09:00-15:00送达</p></div></div>',6),y={class:"detail"},U=v((()=>(0,n._)("h5",null,"商品清单",-1))),b=["src"],z=v((()=>(0,n._)("h4",null,"7天无理由退货",-1))),D=v((()=>(0,n._)("li",null,"有货",-1))),S={class:"bbs"},A=v((()=>(0,n._)("h5",null,"买家留言：",-1))),F=v((()=>(0,n._)("div",{class:"line"},null,-1))),N=v((()=>(0,n._)("div",{class:"bill"},[(0,n._)("h5",null,"发票信息："),(0,n._)("div",null,"普通发票（电子） 个人 明细"),(0,n._)("h5",null,"使用优惠/抵用")],-1))),x={class:"money clearFix"},C=(0,n.Uk)("件商品，总商品金额"),I=v((()=>(0,n._)("li",null,[(0,n._)("b",null,"返现："),(0,n._)("span",null,"0.00")],-1))),O=v((()=>(0,n._)("li",null,[(0,n._)("b",null,"运费："),(0,n._)("span",null,"0.00")],-1))),H={class:"trade"},L={class:"price"},E=(0,n.Uk)("应付金额:　"),T={class:"receiveInfo"},Y=(0,n.Uk)(" 寄送至: "),Z=(0,n.Uk)(" 收货人："),K=(0,n.Uk)("  "),W={name:"Trade"};var j=Object.assign(W,{setup(l){const a=(0,t.Z)();let{address:s,OrderInfo:v,orderId:W}=(0,c.Jk)(a),j=(0,d.iH)("");const q=(0,r.tv)();(0,n.bv)((()=>{a.getAddress(),a.getOrderInfo()}));let B=(0,n.Fl)((()=>{let l=s.value.filter((l=>"1"==l.isDefault));return l[0]||{}}));function J(l,a){a.forEach((l=>{l.isDefault="0"})),l.isDefault="1"}async function P(){let l=v.value.tradeNo,s={consignee:B.value.consignee,consigneeTel:B.value.phoneNum,deliveryAddress:B.value.fullAddress,paymentWay:"ONLINE",orderComment:j.value,orderDetailList:v.value.detailArrayList};try{await a.submitOrder(l,s),q.push(`/pay?orderId=${W.value}`)}catch(e){alert(e.message)}}return(l,a)=>{const t=e.Z;return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(t),(0,n._)("div",_,[o,(0,n._)("div",p,[h,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,d.SU)(s),(l=>((0,n.wg)(),(0,n.iD)("div",{class:"address clearFix",key:l.id,onClick:a=>J(l,(0,d.SU)(s))},[(0,n._)("span",{class:(0,i.C_)(["username",{selected:1==l.isDefault}])},(0,i.zw)(l.consignee),3),(0,n._)("p",null,[(0,n._)("span",w,(0,i.zw)(l.fullAddress),1),(0,n._)("span",f,(0,i.zw)(l.phoneNum),1),(0,n.wy)((0,n._)("span",k,"默认地址",512),[[u.F8,1==l.isDefault]])])],8,m)))),128)),g,(0,n._)("div",y,[U,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,d.SU)(v).detailArrayList,(l=>((0,n.wg)(),(0,n.iD)("ul",{class:"list clearFix",key:l.skuId},[(0,n._)("li",null,[(0,n._)("img",{src:l.imgUrl,alt:""},null,8,b)]),(0,n._)("li",null,[(0,n._)("p",null,(0,i.zw)(l.skuName),1),z]),(0,n._)("li",null,[(0,n._)("h3",null,"￥"+(0,i.zw)(l.orderPrice),1)]),(0,n._)("li",null,"X"+(0,i.zw)(l.skuNum),1),D])))),128))]),(0,n._)("div",S,[A,(0,n.wy)((0,n._)("textarea",{placeholder:"建议留言前先与商家沟通确认",class:"remarks-cont","onUpdate:modelValue":a[0]||(a[0]=l=>(0,d.dq)(j)?j.value=l:j=l)},null,512),[[u.nr,(0,d.SU)(j)]])]),F,N]),(0,n._)("div",x,[(0,n._)("ul",null,[(0,n._)("li",null,[(0,n._)("b",null,[(0,n._)("i",null,(0,i.zw)((0,d.SU)(v).totalNum),1),C]),(0,n._)("span",null,"¥"+(0,i.zw)((0,d.SU)(v).originalTotalAmount),1)]),I,O])]),(0,n._)("div",H,[(0,n._)("div",L,[E,(0,n._)("span",null,"¥"+(0,i.zw)((0,d.SU)(v).totalAmount),1)]),(0,n.wy)((0,n._)("div",T,[Y,(0,n._)("span",null,(0,i.zw)((0,d.SU)(B).fullAddress),1),Z,(0,n._)("span",null,(0,i.zw)((0,d.SU)(B).consignee),1),K,(0,n._)("span",null,(0,i.zw)((0,d.SU)(B).phoneNum),1)],512),[[u.F8,(0,d.SU)(B).fullAddress]])]),(0,n._)("div",{class:"sub clearFix"},[(0,n._)("a",{class:"subBtn",onClick:P},"提交订单")])])],64)}}}),q=s(89);const B=(0,q.Z)(j,[["__scopeId","data-v-18a694d1"]]);var J=B}}]);
//# sourceMappingURL=672.34336757.js.map