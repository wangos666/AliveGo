{"version":3,"file":"js/899.d1f4f8f8.js","mappings":"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","sources":["webpack://shop/./src/pages/Register/index.vue","webpack://shop/./src/pages/Register/index.vue?a040"],"sourcesContent":["import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, unref as _unref, isRef as _isRef, vModelText as _vModelText, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, vModelCheckbox as _vModelCheckbox, createStaticVNode as _createStaticVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-708b4e88\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"register-container\"\n};\nconst _hoisted_2 = {\n  class: \"register\"\n};\n\nconst _hoisted_3 = /*#__PURE__*/_createTextVNode(\"注册新用户 \");\n\nconst _hoisted_4 = {\n  class: \"go\"\n};\n\nconst _hoisted_5 = /*#__PURE__*/_createTextVNode(\"我有账号，去 \");\n\nconst _hoisted_6 = /*#__PURE__*/_createTextVNode(\"登陆\");\n\nconst _hoisted_7 = {\n  class: \"content\"\n};\n\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", null, \"手机号:\", -1));\n\nconst _hoisted_9 = {\n  key: 0,\n  class: \"error-msg\"\n};\nconst _hoisted_10 = {\n  class: \"content\"\n};\n\nconst _hoisted_11 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", null, \"验证码:\", -1));\n\nconst _hoisted_12 = {\n  key: 0,\n  class: \"error-msg\"\n};\nconst _hoisted_13 = {\n  class: \"content\"\n};\n\nconst _hoisted_14 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", null, \"登录密码:\", -1));\n\nconst _hoisted_15 = {\n  key: 0,\n  class: \"error-msg\"\n};\nconst _hoisted_16 = {\n  class: \"content\"\n};\n\nconst _hoisted_17 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", null, \"确认密码:\", -1));\n\nconst _hoisted_18 = {\n  key: 0,\n  class: \"error-msg\"\n};\nconst _hoisted_19 = {\n  class: \"controls\"\n};\n\nconst _hoisted_20 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"同意协议并注册《活力购用户协议》\", -1));\n\nconst _hoisted_21 = {\n  key: 0,\n  class: \"error-msg\"\n};\n\nconst _hoisted_22 = /*#__PURE__*/_createStaticVNode(\"<div class=\\\"copyright\\\" data-v-708b4e88><ul data-v-708b4e88><li data-v-708b4e88>关于我们</li><li data-v-708b4e88>联系我们</li><li data-v-708b4e88>联系客服</li><li data-v-708b4e88>商家入驻</li><li data-v-708b4e88>营销中心</li><li data-v-708b4e88>手机APP</li><li data-v-708b4e88>销售联盟</li><li data-v-708b4e88>活力购社区</li></ul><div class=\\\"address\\\" data-v-708b4e88>地址：浙江省宁波市鄞州区南部商务区</div><div class=\\\"beian\\\" data-v-708b4e88>浙ICP备1089375474号 </div></div>\", 1);\n\nconst __default__ = {\n  name: 'Register'\n};\nimport useUserStore from '@/store/User';\nimport { storeToRefs } from 'pinia';\nimport { ref } from 'vue';\nimport { useRouter } from 'vue-router';\nexport default /*#__PURE__*/Object.assign(__default__, {\n  setup(__props) {\n    const store = useUserStore();\n    let {\n      code\n    } = storeToRefs(store);\n    let phone = ref('');\n    let password = ref('');\n    let passwordComfirm = ref('');\n    let agree = ref(true);\n    let errorInfo = ref('');\n    const router = useRouter();\n\n    async function getCode() {\n      phone.value && (await store.getCode(phone.value));\n    }\n\n    async function register() {\n      let userInfo = {\n        phone: phone.value,\n        password: password.value,\n        code: code.value\n      };\n\n      if (phone.value && password.value === passwordComfirm.value && code.value) {\n        try {\n          await store.register(userInfo);\n          router.push('/login');\n        } catch (error) {\n          alert(error.message);\n        }\n      }\n    }\n\n    return (_ctx, _cache) => {\n      const _component_router_link = _resolveComponent(\"router-link\");\n\n      return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"h3\", null, [_hoisted_3, _createElementVNode(\"span\", _hoisted_4, [_hoisted_5, _createVNode(_component_router_link, {\n        to: \"/login\"\n      }, {\n        default: _withCtx(() => [_hoisted_6]),\n        _: 1\n      })])]), _createElementVNode(\"div\", _hoisted_7, [_hoisted_8, _withDirectives(_createElementVNode(\"input\", {\n        type: \"text\",\n        placeholder: \"请输入你的手机号\",\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => _isRef(phone) ? phone.value = $event : phone = $event)\n      }, null, 512), [[_vModelText, _unref(phone)]]), _unref(errorInfo) ? (_openBlock(), _createElementBlock(\"span\", _hoisted_9, \"错误提示信息\")) : _createCommentVNode(\"\", true)]), _createElementVNode(\"div\", _hoisted_10, [_hoisted_11, _withDirectives(_createElementVNode(\"input\", {\n        type: \"text\",\n        placeholder: \"请输入验证码\",\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => _isRef(code) ? code.value = $event : code = $event)\n      }, null, 512), [[_vModelText, _unref(code)]]), _createElementVNode(\"button\", {\n        onClick: getCode\n      }, \"获取验证码\"), _unref(errorInfo) ? (_openBlock(), _createElementBlock(\"span\", _hoisted_12, \"错误提示信息\")) : _createCommentVNode(\"\", true)]), _createElementVNode(\"div\", _hoisted_13, [_hoisted_14, _withDirectives(_createElementVNode(\"input\", {\n        type: \"password\",\n        placeholder: \"请输入你的登录密码\",\n        \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => _isRef(password) ? password.value = $event : password = $event)\n      }, null, 512), [[_vModelText, _unref(password)]]), _unref(errorInfo) ? (_openBlock(), _createElementBlock(\"span\", _hoisted_15, \"错误提示信息\")) : _createCommentVNode(\"\", true)]), _createElementVNode(\"div\", _hoisted_16, [_hoisted_17, _withDirectives(_createElementVNode(\"input\", {\n        type: \"password\",\n        placeholder: \"请输入确认密码\",\n        \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => _isRef(passwordComfirm) ? passwordComfirm.value = $event : passwordComfirm = $event)\n      }, null, 512), [[_vModelText, _unref(passwordComfirm)]]), _unref(errorInfo) ? (_openBlock(), _createElementBlock(\"span\", _hoisted_18, \"错误提示信息\")) : _createCommentVNode(\"\", true)]), _createElementVNode(\"div\", _hoisted_19, [_withDirectives(_createElementVNode(\"input\", {\n        name: \"m1\",\n        type: \"checkbox\",\n        \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => _isRef(agree) ? agree.value = $event : agree = $event)\n      }, null, 512), [[_vModelCheckbox, _unref(agree)]]), _hoisted_20, _unref(errorInfo) ? (_openBlock(), _createElementBlock(\"span\", _hoisted_21, \"错误提示信息\")) : _createCommentVNode(\"\", true)]), _createElementVNode(\"div\", {\n        class: \"btn\"\n      }, [_createElementVNode(\"button\", {\n        onClick: register\n      }, \"完成注册\")])]), _hoisted_22]);\n    };\n  }\n\n});","/* unplugin-vue-components disabled */import script from \"./index.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=708b4e88&lang=less&scoped=true\"\n\nimport exportComponent from \"D:\\\\web\\\\Vue\\\\shop\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-708b4e88\"]])\n\nexport default __exports__"],"names":["_withScopeId","n","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_","_hoisted_9","key","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","__default__","name","Object","assign","setup","__props","store","code","phone","password","passwordComfirm","agree","errorInfo","router","async","getCode","value","register","userInfo","push","error","alert","message","_ctx","_cache","_component_router_link","to","default","type","placeholder","$event","onClick","__exports__"],"sourceRoot":""}