{"version":3,"file":"js/672.34336757.js","mappings":"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","sources":["webpack://shop/./src/pages/Trade/index.vue","webpack://shop/./src/pages/Trade/index.vue?b54d"],"sourcesContent":["import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, vShow as _vShow, withDirectives as _withDirectives, isRef as _isRef, vModelText as _vModelText, createTextVNode as _createTextVNode, createStaticVNode as _createStaticVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-18a694d1\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"trade-container\"\n};\n\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h3\", {\n  class: \"title\"\n}, \"填写并核对订单信息\", -1));\n\nconst _hoisted_3 = {\n  class: \"content\"\n};\n\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h5\", {\n  class: \"receive\"\n}, \"收件人信息\", -1));\n\nconst _hoisted_5 = [\"onClick\"];\nconst _hoisted_6 = {\n  class: \"s1\"\n};\nconst _hoisted_7 = {\n  class: \"s2\"\n};\nconst _hoisted_8 = {\n  class: \"s3\"\n};\n\nconst _hoisted_9 = /*#__PURE__*/_createStaticVNode(\"<div class=\\\"line\\\" data-v-18a694d1></div><h5 class=\\\"pay\\\" data-v-18a694d1>支付方式</h5><div class=\\\"address clearFix\\\" data-v-18a694d1><span class=\\\"username selected\\\" data-v-18a694d1>在线支付</span><span class=\\\"username\\\" style=\\\"margin-left:5px;\\\" data-v-18a694d1>货到付款</span></div><div class=\\\"line\\\" data-v-18a694d1></div><h5 class=\\\"pay\\\" data-v-18a694d1>送货清单</h5><div class=\\\"way\\\" data-v-18a694d1><h5 data-v-18a694d1>配送方式</h5><div class=\\\"info clearFix\\\" data-v-18a694d1><span class=\\\"s1\\\" data-v-18a694d1>平台配送</span><p data-v-18a694d1>配送时间：预计明天 09:00-15:00送达</p></div></div>\", 6);\n\nconst _hoisted_15 = {\n  class: \"detail\"\n};\n\nconst _hoisted_16 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h5\", null, \"商品清单\", -1));\n\nconst _hoisted_17 = [\"src\"];\n\nconst _hoisted_18 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h4\", null, \"7天无理由退货\", -1));\n\nconst _hoisted_19 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"li\", null, \"有货\", -1));\n\nconst _hoisted_20 = {\n  class: \"bbs\"\n};\n\nconst _hoisted_21 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h5\", null, \"买家留言：\", -1));\n\nconst _hoisted_22 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"line\"\n}, null, -1));\n\nconst _hoisted_23 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"bill\"\n}, [/*#__PURE__*/_createElementVNode(\"h5\", null, \"发票信息：\"), /*#__PURE__*/_createElementVNode(\"div\", null, \"普通发票（电子） 个人 明细\"), /*#__PURE__*/_createElementVNode(\"h5\", null, \"使用优惠/抵用\")], -1));\n\nconst _hoisted_24 = {\n  class: \"money clearFix\"\n};\n\nconst _hoisted_25 = /*#__PURE__*/_createTextVNode(\"件商品，总商品金额\");\n\nconst _hoisted_26 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"li\", null, [/*#__PURE__*/_createElementVNode(\"b\", null, \"返现：\"), /*#__PURE__*/_createElementVNode(\"span\", null, \"0.00\")], -1));\n\nconst _hoisted_27 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"li\", null, [/*#__PURE__*/_createElementVNode(\"b\", null, \"运费：\"), /*#__PURE__*/_createElementVNode(\"span\", null, \"0.00\")], -1));\n\nconst _hoisted_28 = {\n  class: \"trade\"\n};\nconst _hoisted_29 = {\n  class: \"price\"\n};\n\nconst _hoisted_30 = /*#__PURE__*/_createTextVNode(\"应付金额:　\");\n\nconst _hoisted_31 = {\n  class: \"receiveInfo\"\n};\n\nconst _hoisted_32 = /*#__PURE__*/_createTextVNode(\" 寄送至: \");\n\nconst _hoisted_33 = /*#__PURE__*/_createTextVNode(\" 收货人：\");\n\nconst _hoisted_34 = /*#__PURE__*/_createTextVNode(\"  \");\n\nconst __default__ = {\n  name: 'Trade'\n};\nimport useTradeStore from '@/store/Trade';\nimport { storeToRefs } from 'pinia';\nimport { computed, onMounted, ref } from 'vue';\nimport { useRouter } from 'vue-router';\nexport default /*#__PURE__*/Object.assign(__default__, {\n  setup(__props) {\n    const store = useTradeStore();\n    let {\n      address,\n      OrderInfo,\n      orderId\n    } = storeToRefs(store);\n    let msg = ref('');\n    const router = useRouter();\n    onMounted(() => {\n      store.getAddress();\n      store.getOrderInfo();\n    });\n    let userDefaultAddress = computed(() => {\n      let address1 = address.value.filter(item => item.isDefault == '1');\n      return address1[0] || {};\n    });\n\n    function changeDefault(address, addressInfo) {\n      addressInfo.forEach(element => {\n        element.isDefault = '0';\n      });\n      address.isDefault = '1';\n    }\n\n    async function submitOrderInfo() {\n      let traderNo = OrderInfo.value.tradeNo;\n      let data = {\n        \"consignee\": userDefaultAddress.value.consignee,\n        \"consigneeTel\": userDefaultAddress.value.phoneNum,\n        \"deliveryAddress\": userDefaultAddress.value.fullAddress,\n        \"paymentWay\": \"ONLINE\",\n        \"orderComment\": msg.value,\n        \"orderDetailList\": OrderInfo.value.detailArrayList\n      };\n\n      try {\n        await store.submitOrder(traderNo, data);\n        router.push(`/pay?orderId=${orderId.value}`);\n      } catch (error) {\n        alert(error.message);\n      }\n    }\n\n    return (_ctx, _cache) => {\n      const _component_TypeNav = _resolveComponent(\"TypeNav\");\n\n      return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_TypeNav), _createElementVNode(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [_hoisted_4, (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(address), item => {\n        return _openBlock(), _createElementBlock(\"div\", {\n          class: \"address clearFix\",\n          key: item.id,\n          onClick: $event => changeDefault(item, _unref(address))\n        }, [_createElementVNode(\"span\", {\n          class: _normalizeClass([\"username\", {\n            selected: item.isDefault == 1\n          }])\n        }, _toDisplayString(item.consignee), 3), _createElementVNode(\"p\", null, [_createElementVNode(\"span\", _hoisted_6, _toDisplayString(item.fullAddress), 1), _createElementVNode(\"span\", _hoisted_7, _toDisplayString(item.phoneNum), 1), _withDirectives(_createElementVNode(\"span\", _hoisted_8, \"默认地址\", 512), [[_vShow, item.isDefault == 1]])])], 8, _hoisted_5);\n      }), 128)), _hoisted_9, _createElementVNode(\"div\", _hoisted_15, [_hoisted_16, (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(OrderInfo).detailArrayList, item => {\n        return _openBlock(), _createElementBlock(\"ul\", {\n          class: \"list clearFix\",\n          key: item.skuId\n        }, [_createElementVNode(\"li\", null, [_createElementVNode(\"img\", {\n          src: item.imgUrl,\n          alt: \"\"\n        }, null, 8, _hoisted_17)]), _createElementVNode(\"li\", null, [_createElementVNode(\"p\", null, _toDisplayString(item.skuName), 1), _hoisted_18]), _createElementVNode(\"li\", null, [_createElementVNode(\"h3\", null, \"￥\" + _toDisplayString(item.orderPrice), 1)]), _createElementVNode(\"li\", null, \"X\" + _toDisplayString(item.skuNum), 1), _hoisted_19]);\n      }), 128))]), _createElementVNode(\"div\", _hoisted_20, [_hoisted_21, _withDirectives(_createElementVNode(\"textarea\", {\n        placeholder: \"建议留言前先与商家沟通确认\",\n        class: \"remarks-cont\",\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => _isRef(msg) ? msg.value = $event : msg = $event)\n      }, null, 512), [[_vModelText, _unref(msg)]])]), _hoisted_22, _hoisted_23]), _createElementVNode(\"div\", _hoisted_24, [_createElementVNode(\"ul\", null, [_createElementVNode(\"li\", null, [_createElementVNode(\"b\", null, [_createElementVNode(\"i\", null, _toDisplayString(_unref(OrderInfo).totalNum), 1), _hoisted_25]), _createElementVNode(\"span\", null, \"¥\" + _toDisplayString(_unref(OrderInfo).originalTotalAmount), 1)]), _hoisted_26, _hoisted_27])]), _createElementVNode(\"div\", _hoisted_28, [_createElementVNode(\"div\", _hoisted_29, [_hoisted_30, _createElementVNode(\"span\", null, \"¥\" + _toDisplayString(_unref(OrderInfo).totalAmount), 1)]), _withDirectives(_createElementVNode(\"div\", _hoisted_31, [_hoisted_32, _createElementVNode(\"span\", null, _toDisplayString(_unref(userDefaultAddress).fullAddress), 1), _hoisted_33, _createElementVNode(\"span\", null, _toDisplayString(_unref(userDefaultAddress).consignee), 1), _hoisted_34, _createElementVNode(\"span\", null, _toDisplayString(_unref(userDefaultAddress).phoneNum), 1)], 512), [[_vShow, _unref(userDefaultAddress).fullAddress]])]), _createElementVNode(\"div\", {\n        class: \"sub clearFix\"\n      }, [_createElementVNode(\"a\", {\n        class: \"subBtn\",\n        onClick: submitOrderInfo\n      }, \"提交订单\")])])], 64);\n    };\n  }\n\n});","/* unplugin-vue-components disabled */import script from \"./index.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=18a694d1&lang=less&scoped=true\"\n\nimport exportComponent from \"D:\\\\web\\\\Vue\\\\shop\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-18a694d1\"]])\n\nexport default __exports__"],"names":["_withScopeId","n","_hoisted_1","class","_hoisted_2","_","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","__default__","name","Object","assign","setup","__props","store","address","OrderInfo","orderId","msg","router","getAddress","getOrderInfo","userDefaultAddress","address1","value","filter","item","isDefault","changeDefault","addressInfo","forEach","element","async","submitOrderInfo","traderNo","tradeNo","data","consignee","phoneNum","fullAddress","detailArrayList","submitOrder","push","error","alert","message","_ctx","_cache","_component_TypeNav","key","id","onClick","$event","selected","skuId","src","imgUrl","alt","skuName","orderPrice","skuNum","placeholder","totalNum","originalTotalAmount","totalAmount","__exports__"],"sourceRoot":""}